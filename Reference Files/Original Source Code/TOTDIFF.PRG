**********
* Program.: TOTDIFF.PRG
* Author..: Grace Keller
* Date....: 03/09/88
* Notice..: Copyright 1987, Solid Software, Inc., All Rights Reserved
* Version.: FOXPRO
* Notes...: CALCUALTE SUPPLIER INVOICE BILLING
*
* ---OPEN FILES
MSW_DIFF = 0
SELECT B
STORE SALESMAN TO MSALESMAN
STORE PO_NBR TO MPO_NBR
STORE PO_SUFFIX TO MPO_SUFFIX
SELECT D
SEEK MSALESMAN + MPO_NBR + MPO_SUFFIX
DO WHILE MSALESMAN = SALESMAN .AND. PO_NBR = MPO_NBR .AND. PO_SUFFIX = MPO_SUFFIX  .AND. .NOT. EOF()
*  IF BILL_PRI = 0
*     MTOT = MTOT + ROUND(((LBS + SHRT_LBS) * PUR_PRICE),2)
*  ELSE
*     MTOT = MTOT + ROUND(((LBS + SHRT_LBS) * BILL_PRI),2)
*  ENDIF
   IF BILL_PRI = 0
       SKIP
       LOOP
   ENDIF
   MAMT1 = ROUND((BILL_PRI * SHRT_LBS),2)
   MAMT2 = ROUND((PUR_PRICE * SHRT_LBS),2)
   MSW_DIFF = MSW_DIFF + (MAMT1 - MAMT2) 
*  MSW_DIFF = MSW_DIFF + ROUND(((BILL_PRI - PUR_PRICE) * SHRT_LBS),2)
   SKIP
ENDDO
RETURN
* EOF: TOTDIFF.PRG
*Formatted by: FoxToolBox Ver. 0.8c on October 28, 1987 at 2:05 PM.


